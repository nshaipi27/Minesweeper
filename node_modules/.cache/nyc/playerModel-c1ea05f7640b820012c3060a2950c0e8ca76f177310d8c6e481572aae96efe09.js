function cov_2lieeecjem(){var path="/Users/norashaipi/labs/lab7-shaipin_rakotoal/models/playerModel.js";var hash="03d2b94bd8ac70c38f172390f481e8825a80fdba";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/norashaipi/labs/lab7-shaipin_rakotoal/models/playerModel.js",statementMap:{"0":{start:{line:7,column:30},end:{line:7,column:52}},"1":{start:{line:19,column:4},end:{line:19,column:17}},"2":{start:{line:30,column:22},end:{line:30,column:46}},"3":{start:{line:32,column:6},end:{line:32,column:74}},"4":{start:{line:34,column:17},end:{line:34,column:39}},"5":{start:{line:35,column:17},end:{line:35,column:53}},"6":{start:{line:36,column:4},end:{line:41,column:6}},"7":{start:{line:51,column:18},end:{line:51,column:61}},"8":{start:{line:52,column:17},end:{line:52,column:39}},"9":{start:{line:53,column:17},end:{line:53,column:36}},"10":{start:{line:54,column:4},end:{line:54,column:16}},"11":{start:{line:64,column:4},end:{line:73,column:5}},"12":{start:{line:65,column:20},end:{line:65,column:67}},"13":{start:{line:66,column:19},end:{line:66,column:41}},"14":{start:{line:67,column:19},end:{line:67,column:34}},"15":{start:{line:69,column:6},end:{line:69,column:60}},"16":{start:{line:71,column:6},end:{line:71,column:57}},"17":{start:{line:72,column:6},end:{line:72,column:18}},"18":{start:{line:82,column:18},end:{line:82,column:64}},"19":{start:{line:83,column:17},end:{line:83,column:39}},"20":{start:{line:84,column:17},end:{line:84,column:27}},"21":{start:{line:85,column:4},end:{line:85,column:16}},"22":{start:{line:89,column:0},end:{line:89,column:29}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:18},end:{line:20,column:3}},line:18},"1":{name:"(anonymous_1)",decl:{start:{line:29,column:2},end:{line:29,column:3}},loc:{start:{line:29,column:32},end:{line:42,column:3}},line:29},"2":{name:"(anonymous_2)",decl:{start:{line:50,column:2},end:{line:50,column:3}},loc:{start:{line:50,column:27},end:{line:55,column:3}},line:50},"3":{name:"(anonymous_3)",decl:{start:{line:63,column:2},end:{line:63,column:3}},loc:{start:{line:63,column:26},end:{line:74,column:3}},line:63},"4":{name:"(anonymous_4)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:18},end:{line:86,column:3}},line:81}},branchMap:{"0":{loc:{start:{line:69,column:13},end:{line:69,column:59}},type:"cond-expr",locations:[{start:{line:69,column:38},end:{line:69,column:52}},{start:{line:69,column:55},end:{line:69,column:59}}],line:69},"1":{loc:{start:{line:69,column:13},end:{line:69,column:35}},type:"binary-expr",locations:[{start:{line:69,column:13},end:{line:69,column:17}},{start:{line:69,column:21},end:{line:69,column:35}}],line:69}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"03d2b94bd8ac70c38f172390f481e8825a80fdba"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2lieeecjem=function(){return actualCoverage;};}return actualCoverage;}cov_2lieeecjem();/**
 * PlayerModel Class
 *
 * This class has methods to interact with table " players"
 */const{connectToDatabase}=(cov_2lieeecjem().s[0]++,require("../database"));// this is for normal const { connectToDatabase } = require("../database");
//testing
//const { connectTestDatabase } = require("../test-database");
class PlayerModel{/**
   * Constructor - Initializes database connection, db injection
   */constructor(db){cov_2lieeecjem().f[0]++;cov_2lieeecjem().s[1]++;this.db=db;}/**
   * Create a new player record in the database
   *
   * @param {string} username - The username of the player
   * @param {string} email - The email address of the player
   * @returns {object} - The newly created player record
   */createPlayer(username,email){cov_2lieeecjem().f[1]++;const createdAt=(cov_2lieeecjem().s[2]++,new Date().toISOString());const query=(cov_2lieeecjem().s[3]++,"INSERT INTO Players (username, email, created_at) VALUES (?, ?, ?)");const stmt=(cov_2lieeecjem().s[4]++,this.db.prepare(query));const info=(cov_2lieeecjem().s[5]++,stmt.run(username,email,createdAt));cov_2lieeecjem().s[6]++;return{player_id:info.lastInsertRowid,username,email,created_at:createdAt};}/**
   * Retrieve a player's information by their unique ID
   *
   * @param {number} player_id - The ID of the player to retrieve
   * @returns {object|null} - The player's record or null if not found
   */getPlayerById(player_id){cov_2lieeecjem().f[2]++;const query=(cov_2lieeecjem().s[7]++,"SELECT * FROM players WHERE player_id = ?");const stmt=(cov_2lieeecjem().s[8]++,this.db.prepare(query));const info=(cov_2lieeecjem().s[9]++,stmt.get(player_id));cov_2lieeecjem().s[10]++;return info;}/**
   * Check if a player exists by email.
   *
   * @param {string} email - The email
   * @returns {number|null} - Returns the player_id if found, otherwise null.
   */getPlayerByEmail(email){cov_2lieeecjem().f[3]++;cov_2lieeecjem().s[11]++;try{const query=(cov_2lieeecjem().s[12]++,"SELECT player_id FROM players WHERE email = ?");const stmt=(cov_2lieeecjem().s[13]++,this.db.prepare(query));const info=(cov_2lieeecjem().s[14]++,stmt.get(email));cov_2lieeecjem().s[15]++;return(cov_2lieeecjem().b[1][0]++,info)&&(cov_2lieeecjem().b[1][1]++,info.player_id)?(cov_2lieeecjem().b[0][0]++,info.player_id):(cov_2lieeecjem().b[0][1]++,null);}catch(error){cov_2lieeecjem().s[16]++;console.error("Error in getPlayerByEmail:",error);cov_2lieeecjem().s[17]++;return null;}}/**
   * Retrieve all players from the database
   *
   * @returns {Array} - An array containing all player records
   */getAllPlayers(){cov_2lieeecjem().f[4]++;const query=(cov_2lieeecjem().s[18]++,"SELECT * FROM Players ORDER BY player_id ASC");const stmt=(cov_2lieeecjem().s[19]++,this.db.prepare(query));const info=(cov_2lieeecjem().s[20]++,stmt.all());cov_2lieeecjem().s[21]++;return info;}}cov_2lieeecjem().s[22]++;module.exports=PlayerModel;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmxpZWVlY2plbSIsImFjdHVhbENvdmVyYWdlIiwiY29ubmVjdFRvRGF0YWJhc2UiLCJzIiwicmVxdWlyZSIsIlBsYXllck1vZGVsIiwiY29uc3RydWN0b3IiLCJkYiIsImYiLCJjcmVhdGVQbGF5ZXIiLCJ1c2VybmFtZSIsImVtYWlsIiwiY3JlYXRlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicXVlcnkiLCJzdG10IiwicHJlcGFyZSIsImluZm8iLCJydW4iLCJwbGF5ZXJfaWQiLCJsYXN0SW5zZXJ0Um93aWQiLCJjcmVhdGVkX2F0IiwiZ2V0UGxheWVyQnlJZCIsImdldCIsImdldFBsYXllckJ5RW1haWwiLCJiIiwiZXJyb3IiLCJjb25zb2xlIiwiZ2V0QWxsUGxheWVycyIsImFsbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJwbGF5ZXJNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFBsYXllck1vZGVsIENsYXNzXG4gKlxuICogVGhpcyBjbGFzcyBoYXMgbWV0aG9kcyB0byBpbnRlcmFjdCB3aXRoIHRhYmxlIFwiIHBsYXllcnNcIlxuICovXG5cbmNvbnN0IHsgY29ubmVjdFRvRGF0YWJhc2UgfSA9IHJlcXVpcmUoXCIuLi9kYXRhYmFzZVwiKTtcblxuLy8gdGhpcyBpcyBmb3Igbm9ybWFsIGNvbnN0IHsgY29ubmVjdFRvRGF0YWJhc2UgfSA9IHJlcXVpcmUoXCIuLi9kYXRhYmFzZVwiKTtcblxuLy90ZXN0aW5nXG4vL2NvbnN0IHsgY29ubmVjdFRlc3REYXRhYmFzZSB9ID0gcmVxdWlyZShcIi4uL3Rlc3QtZGF0YWJhc2VcIik7XG5cbmNsYXNzIFBsYXllck1vZGVsIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIC0gSW5pdGlhbGl6ZXMgZGF0YWJhc2UgY29ubmVjdGlvbiwgZGIgaW5qZWN0aW9uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkYikge1xuICAgIHRoaXMuZGIgPSBkYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcGxheWVyIHJlY29yZCBpbiB0aGUgZGF0YWJhc2VcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJuYW1lIC0gVGhlIHVzZXJuYW1lIG9mIHRoZSBwbGF5ZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsIC0gVGhlIGVtYWlsIGFkZHJlc3Mgb2YgdGhlIHBsYXllclxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSAtIFRoZSBuZXdseSBjcmVhdGVkIHBsYXllciByZWNvcmRcbiAgICovXG4gIGNyZWF0ZVBsYXllcih1c2VybmFtZSwgZW1haWwpIHtcbiAgICBjb25zdCBjcmVhdGVkQXQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgY29uc3QgcXVlcnkgPVxuICAgICAgXCJJTlNFUlQgSU5UTyBQbGF5ZXJzICh1c2VybmFtZSwgZW1haWwsIGNyZWF0ZWRfYXQpIFZBTFVFUyAoPywgPywgPylcIjtcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUocXVlcnkpO1xuICAgIGNvbnN0IGluZm8gPSBzdG10LnJ1bih1c2VybmFtZSwgZW1haWwsIGNyZWF0ZWRBdCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBsYXllcl9pZDogaW5mby5sYXN0SW5zZXJ0Um93aWQsXG4gICAgICB1c2VybmFtZSxcbiAgICAgIGVtYWlsLFxuICAgICAgY3JlYXRlZF9hdDogY3JlYXRlZEF0LFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgYSBwbGF5ZXIncyBpbmZvcm1hdGlvbiBieSB0aGVpciB1bmlxdWUgSURcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBsYXllcl9pZCAtIFRoZSBJRCBvZiB0aGUgcGxheWVyIHRvIHJldHJpZXZlXG4gICAqIEByZXR1cm5zIHtvYmplY3R8bnVsbH0gLSBUaGUgcGxheWVyJ3MgcmVjb3JkIG9yIG51bGwgaWYgbm90IGZvdW5kXG4gICAqL1xuICBnZXRQbGF5ZXJCeUlkKHBsYXllcl9pZCkge1xuICAgIGNvbnN0IHF1ZXJ5ID0gXCJTRUxFQ1QgKiBGUk9NIHBsYXllcnMgV0hFUkUgcGxheWVyX2lkID0gP1wiO1xuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUocXVlcnkpO1xuICAgIGNvbnN0IGluZm8gPSBzdG10LmdldChwbGF5ZXJfaWQpO1xuICAgIHJldHVybiBpbmZvO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgcGxheWVyIGV4aXN0cyBieSBlbWFpbC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsIC0gVGhlIGVtYWlsXG4gICAqIEByZXR1cm5zIHtudW1iZXJ8bnVsbH0gLSBSZXR1cm5zIHRoZSBwbGF5ZXJfaWQgaWYgZm91bmQsIG90aGVyd2lzZSBudWxsLlxuICAgKi9cbiAgZ2V0UGxheWVyQnlFbWFpbChlbWFpbCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBxdWVyeSA9IFwiU0VMRUNUIHBsYXllcl9pZCBGUk9NIHBsYXllcnMgV0hFUkUgZW1haWwgPSA/XCI7XG4gICAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKHF1ZXJ5KTtcbiAgICAgIGNvbnN0IGluZm8gPSBzdG10LmdldChlbWFpbCk7XG5cbiAgICAgIHJldHVybiBpbmZvICYmIGluZm8ucGxheWVyX2lkID8gaW5mby5wbGF5ZXJfaWQgOiBudWxsO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gZ2V0UGxheWVyQnlFbWFpbDpcIiwgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIGFsbCBwbGF5ZXJzIGZyb20gdGhlIGRhdGFiYXNlXG4gICAqXG4gICAqIEByZXR1cm5zIHtBcnJheX0gLSBBbiBhcnJheSBjb250YWluaW5nIGFsbCBwbGF5ZXIgcmVjb3Jkc1xuICAgKi9cbiAgZ2V0QWxsUGxheWVycygpIHtcbiAgICBjb25zdCBxdWVyeSA9IFwiU0VMRUNUICogRlJPTSBQbGF5ZXJzIE9SREVSIEJZIHBsYXllcl9pZCBBU0NcIjtcbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKHF1ZXJ5KTtcbiAgICBjb25zdCBpbmZvID0gc3RtdC5hbGwoKTtcbiAgICByZXR1cm4gaW5mbztcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBsYXllck1vZGVsO1xuIl0sIm1hcHBpbmdzIjoiMnFHQWVZO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQWZaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FFQSxLQUFNLENBQUVFLGlCQUFrQixDQUFDLEVBQUFGLGNBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsYUFBYSxDQUFDLEVBRXBEO0FBRUE7QUFDQTtBQUVBLEtBQU0sQ0FBQUMsV0FBWSxDQUNoQjtBQUNGO0FBQ0EsS0FDRUMsV0FBV0EsQ0FBQ0MsRUFBRSxDQUFFLENBQUFQLGNBQUEsR0FBQVEsQ0FBQSxNQUFBUixjQUFBLEdBQUFHLENBQUEsTUFDZCxJQUFJLENBQUNJLEVBQUUsQ0FBR0EsRUFBRSxDQUNkLENBRUE7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FDRUUsWUFBWUEsQ0FBQ0MsUUFBUSxDQUFFQyxLQUFLLENBQUUsQ0FBQVgsY0FBQSxHQUFBUSxDQUFBLE1BQzVCLEtBQU0sQ0FBQUksU0FBUyxFQUFBWixjQUFBLEdBQUFHLENBQUEsTUFBRyxHQUFJLENBQUFVLElBQUksQ0FBQyxDQUFDLENBQUNDLFdBQVcsQ0FBQyxDQUFDLEVBQzFDLEtBQU0sQ0FBQUMsS0FBSyxFQUFBZixjQUFBLEdBQUFHLENBQUEsTUFDVCxvRUFBb0UsRUFFdEUsS0FBTSxDQUFBYSxJQUFJLEVBQUFoQixjQUFBLEdBQUFHLENBQUEsTUFBRyxJQUFJLENBQUNJLEVBQUUsQ0FBQ1UsT0FBTyxDQUFDRixLQUFLLENBQUMsRUFDbkMsS0FBTSxDQUFBRyxJQUFJLEVBQUFsQixjQUFBLEdBQUFH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